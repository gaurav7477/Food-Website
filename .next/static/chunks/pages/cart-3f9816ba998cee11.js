(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(9081)}])},4747:function(e,t){"use strict";t.Z={src:"/_next/static/media/Logo.7cd89baf.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAdVBMVEX5trb4qan4nJ33lpb3jIz3h4j2goL2gYL2gID1ZWb1Xl71WFj1VFX1UlP1T1D1Tk/1TU71Skv1SUr1SEn1R0j0R0j1Rkf0Rkf0RUb0REX0Q0T0QkP0QUL0P0D0PkD0Ozz0OTr0ODr0ODn0Njj0NTf0NDb0Li/eLhNCAAAASUlEQVR42hXLxxGAMAwEwCOaDJYEwuRk+i+RYf8LUTsQqUDFy3GzgtewTuOLoL05TfIQxFUtdaOAPLIoeC1kypuymP+1u2Vj/QCyPATmnzlvzgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},3417:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var a=r(5893),s=r(4048),n=r.n(s),l=r(5675),i=r.n(l),o=r(4747),d=r(535),c=r(4496),u=r(1526),h=r(1664),_=r.n(h),f=r(7294),p=r(1163);function m(){(0,p.useRouter)(),(0,u.o)(e=>e);let[e,t]=(0,f.useState)("");(0,f.useEffect)(()=>{t(localStorage.getItem("order"))},[]);let r=(0,u.o)(e=>e.cart.pizzas.length);return(0,a.jsxs)("div",{className:n().header,children:[(0,a.jsxs)("div",{className:n().logo,children:[(0,a.jsx)(i(),{src:o.Z,alt:"heh",width:50,height:50}),(0,a.jsx)("span",{children:"Fudo"})]}),(0,a.jsxs)("ul",{className:n().menu,children:[(0,a.jsx)("li",{children:(0,a.jsx)(_(),{href:"../",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(_(),{href:"../",children:"Menu"})}),(0,a.jsx)("li",{children:(0,a.jsx)(_(),{href:"/contact",children:"Contact"})})]}),(0,a.jsxs)("div",{className:n().rigthSide,children:[(0,a.jsx)(_(),{href:"/cart",children:(0,a.jsxs)("div",{className:n().cart,children:[(0,a.jsx)(d.Z,{size:35,color:"#2E2E2E"}),(0,a.jsx)("div",{className:n().badge,children:r})]})}),e&&(0,a.jsx)(_(),{href:"/order/".concat(e),children:(0,a.jsxs)("div",{className:n().cart,children:[(0,a.jsx)(c.Z,{size:35,color:"#2E2E2E"}),""!=e&&(0,a.jsx)("div",{className:n().badge,children:"1"})]})})]})]})}},736:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(5893),s=r(3417),n=r(5168),l=r(8568),i=r(3448),o=r(3794),d=r.n(o),c=r(4747),u=r(5675),h=r.n(u);function _(){return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)("span",{children:"ALL RIGTH RESERVED"}),(0,a.jsxs)("div",{className:d().social,children:[(0,a.jsx)(n.Z,{size:45}),(0,a.jsx)(l.Z,{size:45}),(0,a.jsx)(i.Z,{size:45})]}),(0,a.jsxs)("div",{className:d().logo,children:[(0,a.jsx)(h(),{src:c.Z,alt:"heh",width:50,height:50}),(0,a.jsx)("span",{children:"Fudo"})]})]})}let f=e=>{let t=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{}),t,(0,a.jsx)(_,{})]})};var p=f},7769:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var a=r(5893),s=r(4442),n=r(7202),l=r(5923),i=r.n(l),o=r(7294);let d=async e=>{let{name:t,phone:r,address:a,total:s,paymentMethod:n}=e,l=await fetch("api/order",{method:"POST",body:JSON.stringify({name:t,phone:r,address:a,total:parseFloat(s),method:n,status:1})});console.log("res",l);let i=await l.json();return i};var c=r(6501),u=r(1526),h=r(1163);function _(e){let{opened:t,setOpened:r,paymentMethod:l}=e,_=(0,s.rZ)(),f=(0,h.useRouter)(),[p,m]=(0,o.useState)({}),j=e=>{m({...p,[e.target.name]:e.target.value})},x=async e=>{e.preventDefault();let t=await d({...p,total:b,paymentMethod:l});c.ZP.success("order placed"),console.log("order placed",t),g(),localStorage.setItem("order",t),f.push("/order/".concat(t))},g=(0,u.o)(e=>e.resetCart),b=localStorage.getItem("total");return(0,a.jsxs)(n.u,{overlayColor:"dark"===_.colorScheme?_.colors.dark[9]:_.colors.gray[2],overlayOpacity:.55,overlayBlur:3,opened:t,onClose:()=>r(null),children:[(0,a.jsxs)("form",{onSubmit:x,action:"",className:i().formContainer,children:[(0,a.jsx)("input",{onChange:j,type:"text",name:"name",required:!0,placeholder:"Name"}),(0,a.jsx)("input",{onChange:j,type:"text",name:"phone",required:!0,placeholder:"Phone Number"}),(0,a.jsx)("textarea",{onChange:j,name:"address",rows:3,required:!0,placeholder:"Address"}),(0,a.jsxs)("span",{children:["You will Pay ",(0,a.jsxs)("span",{children:["$",b]})," on Delivery"]}),(0,a.jsx)("button",{type:"submit",children:" Place Order"})]}),(0,a.jsx)(c.x7,{})]})}},5018:function(e,t,r){"use strict";r.d(t,{u:function(){return d}});var a=r(7360),s=r(6803),n=r.n(s),l=r(3454);let i=(0,a.eI)({projectId:"7bgbzvwb",dataset:"production",apiVersion:"2023-02-15",useCdn:!0,token:l.env.SANITY_API_TOKEN}),o=n()(i),d=e=>o.image(e)},4564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suspense=function(){let e=Error(a.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=a.NEXT_DYNAMIC_NO_SSR_CODE,e},t.NoSSR=function(e){let{children:t}=e;return t},(0,r(2648).Z)(r(7294));var a=r(2983)},7645:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=n.default,s={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};e instanceof Promise?s.loader=()=>e:"function"==typeof e?s.loader=e:"object"==typeof e&&(s=a({},s,e)),s=a({},s,t);let i=s.loader,o=()=>null!=i?i().then(l):Promise.resolve(l(()=>null));return s.loadableGenerated&&delete(s=a({},s,s.loadableGenerated)).loadableGenerated,"boolean"!=typeof s.ssr||s.ssr||(delete s.webpack,delete s.modules),r(a({},s,{loader:o}))};var a=r(6495).Z,s=r(2648).Z;s(r(7294));var n=s(r(4588));function l(e){return{default:(null==e?void 0:e.default)||e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var a=(0,r(2648).Z)(r(7294));let s=a.default.createContext(null);t.LoadableContext=s},4588:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(932).Z,s=r(6495).Z,n=(0,r(2648).Z)(r(7294)),l=r(4564),i=r(3644);let o=[],d=[],c=!1;function u(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class h{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=s({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function _(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,ssr:!0},t),s=null;function o(){if(!s){let t=new h(e,r);s={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return s.promise()}if(r.lazy=n.default.lazy(a(function*(){if(r.ssr&&s){let e=s.getCurrentValue(),t=yield e.loaded;if(t)return t}return yield r.loader()})),!c){let e=r.webpack?r.webpack():r.modules;e&&d.push(t=>{for(let r of e)if(-1!==t.indexOf(r))return o()})}function u(e){!function(){o();let e=n.default.useContext(i.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let t=r.loading,a=n.default.createElement(t,{isLoading:!0,pastDelay:!0,error:null}),s=r.ssr?n.default.Fragment:l.NoSSR,d=r.lazy;return n.default.createElement(n.default.Suspense,{fallback:a},n.default.createElement(s,null,n.default.createElement(d,Object.assign({},e))))}return u.preload=()=>o(),u.displayName="LoadableComponent",u}(u,e)}function f(e,t){let r=[];for(;e.length;){let a=e.pop();r.push(a(t))}return Promise.all(r).then(()=>{if(e.length)return f(e,t)})}_.preloadAll=()=>new Promise((e,t)=>{f(o).then(e,t)}),_.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let r=()=>(c=!0,t());f(d,e).then(r,r)})},window.__NEXT_PRELOADREADY=_.preloadReady,t.default=_},9081:function(e,t,r){"use strict";r.r(t);var a=r(5893),s=r(1526),n=r(736),l=r(338),i=r.n(l),o=r(5018),d=r(5675),c=r.n(d),u=r(6501),h=r(7294),_=r(7769),f=r(1163),p=r(5152),m=r.n(p);function j(){let e=(0,s.o)(e=>e.cart),t=(0,s.o)(e=>e.removePizza),[r,l]=(0,h.useState)(null),[d,p]=(0,h.useState)(!0),[m,j]=(0,h.useState)(null);(0,h.useEffect)(()=>{j(localStorage.getItem("order "))},[]),(0,h.useEffect)(()=>{localStorage.setItem("total",v())},[d]);let x=e=>{t(e),u.ZP.error("Item removed")},g=(0,f.useRouter)(),b=()=>{l(0),p(!d)},y=async()=>{p(!d),l(1);let t=await fetch("/api/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.pizzas)});if(500===t.status)return;let r=await t.json();u.ZP.loading("Redirecting..."),g.push(r.url)},v=()=>e.pizzas.reduce((e,t)=>e+t.quantity*t.price,0);return(0,a.jsxs)(n.Z,{children:[(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("div",{className:i().details,children:(0,a.jsxs)("table",{className:i().table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Pizza"}),(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Size"}),(0,a.jsx)("th",{children:"Price"}),(0,a.jsx)("th",{children:"Quantity"}),(0,a.jsx)("th",{children:"Total"}),(0,a.jsx)("th",{})]})}),(0,a.jsx)("tbody",{className:i().tbody,children:e.pizzas.map((e,t)=>{let r=(0,o.u)(e.image).url();return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:i().imageTd,children:(0,a.jsx)(c(),{loader:()=>r,src:r,alt:"hehe",width:85,height:85,objectFit:"cover"})}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:0===e.size?"small":1===e.size?"medium":"large"}),(0,a.jsx)("td",{children:e.price}),(0,a.jsx)("td",{children:e.quantity}),(0,a.jsx)("td",{children:e.price*e.quantity}),(0,a.jsx)("td",{style:{color:"var(--themeRed)",cursor:"pointer"},onClick:()=>x(t),children:"x"})]},t)})})]})}),(0,a.jsxs)("div",{className:i().cart,children:[(0,a.jsx)("span",{children:"Cart"}),(0,a.jsxs)("div",{className:i().cartDetails,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Items"}),(0,a.jsxs)("span",{children:[" ",e.pizzas.length]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:[" $ ",v()]})]})]}),!m&&e.pizzas.length>0?(0,a.jsxs)("div",{className:i().button,children:[(0,a.jsx)("button",{className:"btn",onClick:b,children:"Pay on Delivery"}),(0,a.jsx)("button",{className:"btn",onClick:y,children:"Pay Now"})]}):null]})]}),(0,a.jsx)(u.x7,{}),(0,a.jsx)(_.Z,{opened:0===r,setOpened:l,paymentMethod:r})]})}t.default=m()(()=>Promise.resolve(j),{ssr:!1})},1526:function(e,t,r){"use strict";r.d(t,{o:function(){return s}});var a=r(4529);let s=(0,a.Ue)(e=>({cart:{pizzas:[]},addPizza:t=>e(e=>({cart:{pizzas:[...e.cart.pizzas,t]}})),removePizza:t=>e(e=>({cart:{pizzas:e.cart.pizzas.filter((e,r)=>r!=t)}})),resetCart:()=>{e(()=>({cart:{pizzas:[]}}))}}))},338:function(e){e.exports={container:"Cart_container__v66s_",table:"Cart_table__AtJ4d",tbody:"Cart_tbody__foAEI",imageTd:"Cart_imageTd__eDZ_b",cart:"Cart_cart__We_ca",cartDetails:"Cart_cartDetails__afkA2",button:"Cart_button__FRScP"}},3794:function(e){e.exports={container:"Footer_container__iN3aW",logo:"Footer_logo__PM82v",social:"Footer_social__r_lug"}},4048:function(e){e.exports={header:"Header_header__VYZ3G",logo:"Header_logo__6vBZG",menu:"Header_menu___mY7M",rigthSide:"Header_rigthSide__iYZXR",cart:"Header_cart__wM8u4",badge:"Header_badge__igzTy"}},5923:function(e){e.exports={formContainer:"OrderModal_formContainer__bjD_3"}},5152:function(e,t,r){e.exports=r(7645)}},function(e){e.O(0,[661,773,823,774,888,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);